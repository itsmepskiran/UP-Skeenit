<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Received Applications â€“ Skreenit</title>
  <script>
    (function() {
      const isLocal = ['localhost', '127.0.0.1',''].includes(window.location.hostname);
      const authBase = isLocal ? '../../auth' : 'https://auth.skreenit.com';
      const im = document.createElement('script');
      im.type = 'importmap';
      im.textContent = JSON.stringify({ imports: { "@shared/": `${authBase}/assets/` } });
      document.head.appendChild(im);
      window.loadSharedCSS = function(file) {
        const link = document.createElement('link'); link.rel = 'stylesheet'; link.href = `${authBase}/assets/css/${file}`; document.head.appendChild(link);
      };
    })();
  </script>
  <script>
    loadSharedCSS('core.css');   
    loadSharedCSS('layout.css'); 
    loadSharedCSS('forms.css');  
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  
  <style>
    /* 1. FORCED LAYOUT RESET */
    #appListBody .dashboard-container {
        display: flex; /* Use flex instead of grid for better browser compatibility */
        min-height: 100vh;
        width: 100%;
        overflow-x: hidden;
    }

    #appListBody .sidebar {
        width: 260px;
        flex-shrink: 0; /* Prevents sidebar from shrinking */
        height: 100vh;
        position: sticky; /* Sticky is better than fixed for flow */
        top: 0;
    }

    #appListBody .dashboard-content {
        flex-grow: 1;
        min-width: 0; /* Critical for grid items inside flex */
        padding: 30px;
        background: #f8fafc;
    }

    /* 2. TABLE GRID - Force rendering */
    .app-table {
        width: 100%;
        background: white;
        border-radius: 12px;
        border: 1px solid #e2e8f0;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        display: block; /* Change from flex to block */
    }

    .app-row {
        display: grid;
        /* Force columns to align even if browser is slow */
        grid-template-columns: minmax(200px, 2.5fr) minmax(150px, 2fr) 1.2fr 1fr 50px;
        padding: 15px 20px;
        align-items: center;
        border-bottom: 1px solid #f1f5f9;
        gap: 15px;
    }
    /* Update your existing .app-item-row class */
    .app-item-row {
        cursor: pointer; /* This changes the mouse to a hand */
        transition: background-color 0.2s ease, transform 0.1s ease;
    }

    .app-item-row:hover {
        background-color: #f8fafc;
        /* Optional: adds a tiny lift effect */
        transform: translateX(4px); 
    }
  </style>
</head>
<body id="appListBody">
    <div class="dashboard-container">
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="logo"><img src="" id="logoImg" alt="Skreenit" /></div>
            </div>
            <ul class="nav-menu">
                <li class="nav-item" onclick="window.location.href='recruiter-dashboard.html'"><i class="fas fa-tachometer-alt"></i><span>Overview</span></li>
                <li class="nav-item" onclick="window.location.href='my-jobs.html'"><i class="fas fa-briefcase"></i><span>My Jobs</span></li>
                <li class="nav-item active"><i class="fas fa-users"></i><span>Applications</span></li>
                <li class="nav-item" onclick="window.location.href='../recruiter/recruiter-profile.html'"><i class="fas fa-user-circle"></i><span>My Profile</span></li>
            </ul>
            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-details">
                        <span class="user-name" id="recruiterName">Loading...</span>
                        <span class="user-role">Recruiter</span> 
                    </div>
                </div>
                <button class="logout-btn" id="logoutBtn"><i class="fas fa-sign-out-alt"></i></button>
            </div>
        </nav>

        <main class="dashboard-content">
            <div class="header-group">
                <div style="display:flex; align-items:center; gap:15px;">
                    <button onclick="window.history.back()" style="border:none; background:none; cursor:pointer; color:#64748b; font-size:1.1rem;">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2 id="pageHeaderTitle" style="margin:0;">Received Applications</h2>
                </div>
                
                <div style="display:flex; gap:12px;">
                    <input type="text" id="appSearch" placeholder="Search..." class="form-control" style="width:200px;">
                    <select id="jobFilter" class="form-control" style="width:180px;">
                        <option value="all">All Jobs</option>
                    </select>
                </div>
            </div>

            <div class="app-table">
                <div class="app-row app-header">
                    <div>Candidate Name</div>
                    <div>Applied For</div>
                    <div>Applied Date</div>
                    <div>Status</div>
                    <div></div>
                </div>
                <div id="applicationListContainer"></div>
            </div>
        </main>
    </div>

    <script type="module" src="js/application-list.js"></script>
</body>
</html>